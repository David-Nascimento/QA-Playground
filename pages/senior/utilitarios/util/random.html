<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>N√∫mero Aleat√≥rio ‚Äî QA Playground</title>
    <link rel="stylesheet" href="../../../../css/main.css" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  </head>
  <body>
    <header class="et-header">
      <div class="et-header-inner">
        <a href="../../../../index.html" class="et-logo" aria-label="In√≠cio">
          <img src="../../../../assets/icons/logo.svg" alt="Logo QA Playground" height="40" />
        </a>
        <nav class="et-nav" aria-label="Navega√ß√£o principal">
          <ul class="et-nav-list">
            <li><a href="../../../../index.html">In√≠cio</a></li>
            <li><a href="../index.html">Utilit√°rios</a></li>
            <li><a href="random.html" aria-current="page">N√∫mero Aleat√≥rio</a></li>
          </ul>
        </nav>
        <div class="et-header-actions">
          <button id="theme-toggle" aria-label="Alternar tema">üåû</button>
        </div>
      </div>
    </header>

    <main class="container">
      <section class="section">
        <div class="section-header">
          <h2>N√∫mero Aleat√≥rio</h2>
          <div class="section-desc">Gere e valide n√∫meros aleat√≥rios para cen√°rios de teste. Esta p√°gina permite testar gera√ß√£o de valores aleat√≥rios, valida√ß√£o de intervalos e uso em testes automatizados.</div>
        </div>

        <div class="subsections subsections-vertical">
          <div class="subsection">
            <h3>Gerador de N√∫meros Aleat√≥rios</h3>
            <p class="muted" style="margin-bottom: var(--spacing-md);">
              Configure o intervalo e gere n√∫meros aleat√≥rios.
            </p>

            <div class="form-grid" style="margin-bottom: var(--spacing-md);">
              <div class="form-group">
                <label for="min-value">Valor M√≠nimo</label>
                <input id="min-value" type="number" value="1" data-testid="input-min" />
              </div>
              <div class="form-group">
                <label for="max-value">Valor M√°ximo</label>
                <input id="max-value" type="number" value="100" data-testid="input-max" />
              </div>
            </div>

            <div class="controls" style="margin-bottom: var(--spacing-md);">
              <button id="btn-generate" class="btn" data-testid="btn-generate">Gerar N√∫mero</button>
              <button id="btn-generate-multiple" class="btn btn-secondary" data-testid="btn-generate-multiple">Gerar 10 N√∫meros</button>
            </div>

            <div id="random-result" data-testid="random-result" style="padding: var(--spacing-md); background: var(--surface); border-radius: var(--border-radius-md); border-left: 4px solid var(--accent); min-height: 100px;">
              <p class="muted" style="margin: 0;">Nenhum n√∫mero gerado ainda.</p>
            </div>
          </div>

          <div class="subsection" style="margin-top: var(--spacing-lg);">
            <h3>Informa√ß√µes para Testes</h3>
            <div style="background: var(--surface); padding: var(--spacing-md); border-radius: var(--border-radius-md); border-left: 4px solid var(--accent);">
              <p style="margin-bottom: var(--spacing-sm);"><strong>Cen√°rios de Teste:</strong></p>
              <ul style="margin-left: var(--spacing-lg); color: var(--muted); font-size: var(--font-size-sm);">
                <li>Testar gera√ß√£o de n√∫meros aleat√≥rios</li>
                <li>Validar que n√∫meros est√£o dentro do intervalo</li>
                <li>Testar gera√ß√£o de m√∫ltiplos n√∫meros</li>
                <li>Validar valores m√≠nimo e m√°ximo</li>
                <li>Testar tratamento de valores inv√°lidos</li>
                <li>Validar distribui√ß√£o de n√∫meros gerados</li>
              </ul>
              
              <p style="margin-top: var(--spacing-md); margin-bottom: var(--spacing-sm);"><strong>Exemplos de Teste Automatizado:</strong></p>
              
              <div class="test-tabs">
                <button class="test-tab active" data-target="tab-cypress">Cypress</button>
                <button class="test-tab" data-target="tab-playwright">Playwright</button>
                <button class="test-tab" data-target="tab-selenium-java">Selenium (Java)</button>
                <button class="test-tab" data-target="tab-capybara">Capybara (Ruby)</button>
                <button class="test-tab" data-target="tab-robot">Robot Framework</button>
              </div>
              
              <div class="test-tab-content">
              
                <pre id="tab-cypress" class="test-code active"><code>
// Cypress - Gerar e validar n√∫mero aleat√≥rio
cy.get('[data-testid="input-min"]').clear().type('1')
cy.get('[data-testid="input-max"]').clear().type('100')
cy.get('[data-testid="btn-generate"]').click()
cy.get('[data-testid="random-number"]').then(($el) => {
  const num = parseInt($el.text())
  expect(num).to.be.at.least(1)
  expect(num).to.be.at.most(100)
})

// Gerar m√∫ltiplos n√∫meros
cy.get('[data-testid="btn-generate-multiple"]').click()
cy.get('[data-testid="random-number-0"]').should('exist')
                </code></pre>
              
                <pre id="tab-playwright" class="test-code"><code>
// Playwright - Validar n√∫mero aleat√≥rio
await page.getByTestId('input-min').fill('10')
await page.getByTestId('input-max').fill('50')
await page.getByTestId('btn-generate').click()
const number = await page.getByTestId('random-number').textContent()
const num = parseInt(number)
expect(num).toBeGreaterThanOrEqual(10)
expect(num).toBeLessThanOrEqual(50)

// Gerar m√∫ltiplos n√∫meros
await page.getByTestId('btn-generate-multiple').click()
await expect(page.getByTestId('random-number-0')).toBeVisible()
                </code></pre>
              
                <pre id="tab-selenium-java" class="test-code"><code>
// Selenium (Java) - Validar n√∫mero aleat√≥rio
driver.findElement(By.cssSelector("[data-testid='input-min']")).clear();
driver.findElement(By.cssSelector("[data-testid='input-min']")).sendKeys("10");
driver.findElement(By.cssSelector("[data-testid='input-max']")).clear();
driver.findElement(By.cssSelector("[data-testid='input-max']")).sendKeys("50");
driver.findElement(By.cssSelector("[data-testid='btn-generate']")).click();
WebElement numberEl = driver.findElement(By.cssSelector("[data-testid='random-number']"));
int num = Integer.parseInt(numberEl.getText());
assert num >= 10 && num <= 50;
                </code></pre>
              
                <pre id="tab-capybara" class="test-code"><code>
# Capybara (Ruby) - Validar n√∫mero aleat√≥rio
fill_in '[data-testid="input-min"]', with: '10'
fill_in '[data-testid="input-max"]', with: '50'
click_button '[data-testid="btn-generate"]'
number = find('[data-testid="random-number"]').text.to_i
expect(number).to be_between(10, 50)
                </code></pre>
                  
                <pre id="tab-robot" class="test-code"><code>
*** Test Cases ***
Gerar e validar n√∫mero aleat√≥rio
    Clear Element Text    css:[data-testid="input-min"]
    Input Text    css:[data-testid="input-min"]    10
    Clear Element Text    css:[data-testid="input-max"]
    Input Text    css:[data-testid="input-max"]    50
    Click Button    css:[data-testid="btn-generate"]
    ${number}=    Get Text    css:[data-testid="random-number"]
    Should Be True    ${number} >= 10 and ${number} <= 50
                </code></pre>
              
              </div>
${number}=    Get Text    [data-testid="random-number"]
Should Be True    ${number} >= 10
Should Be True    ${number} <= 50</code></pre>

              <p style="margin-top: var(--spacing-md); margin-bottom: var(--spacing-sm);"><strong>Elementos identific√°veis:</strong></p>
              <ul style="margin-left: var(--spacing-lg); color: var(--muted); font-size: var(--font-size-sm);">
                <li><code>data-testid="input-min"</code> - Campo valor m√≠nimo</li>
                <li><code>data-testid="input-max"</code> - Campo valor m√°ximo</li>
                <li><code>data-testid="btn-generate"</code> - Bot√£o gerar n√∫mero</li>
                <li><code>data-testid="btn-generate-multiple"</code> - Bot√£o gerar m√∫ltiplos</li>
                <li><code>data-testid="random-result"</code> - √Årea de resultados</li>
                <li><code>data-testid="random-number"</code> - N√∫mero gerado</li>
              </ul>
            </div>
          </div>
        </div>

        <div style="margin-top: var(--spacing-xl); text-align: center;">
          <a href="../../../../index.html" class="btn btn-secondary">‚Üê Voltar para In√≠cio</a>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      QA Playground ‚Äî Projeto educacional ‚Ä¢ Portugu√™s
    </footer>

    <script type="module" src="../../../../js/index.js"></script>
    <script>
      function generateRandom(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
      }
      
      document.getElementById('btn-generate').addEventListener('click', function() {
        const min = parseInt(document.getElementById('min-value').value) || 1;
        const max = parseInt(document.getElementById('max-value').value) || 100;
        
        if (min > max) {
          window.showToast('Valor m√≠nimo n√£o pode ser maior que o m√°ximo!');
          return;
        }
        
        const random = generateRandom(min, max);
        const timestamp = new Date().toLocaleTimeString('pt-BR');
        
        document.getElementById('random-result').innerHTML = `
          <div style="text-align: center;">
            <div id="random-number" data-testid="random-number" style="font-size: var(--font-size-2xl); font-weight: 700; color: var(--accent); margin: var(--spacing-md) 0;">${random}</div>
            <p style="color: var(--muted); font-size: var(--font-size-sm); margin: 0;">Intervalo: ${min} - ${max}</p>
            <p style="color: var(--muted); font-size: var(--font-size-sm); margin: var(--spacing-xs) 0 0 0;">Hor√°rio: ${timestamp}</p>
          </div>
        `;
        
        window.showToast(`N√∫mero ${random} gerado!`);
      });
      
      document.getElementById('btn-generate-multiple').addEventListener('click', function() {
        const min = parseInt(document.getElementById('min-value').value) || 1;
        const max = parseInt(document.getElementById('max-value').value) || 100;
        
        if (min > max) {
          window.showToast('Valor m√≠nimo n√£o pode ser maior que o m√°ximo!');
          return;
        }
        
        const numbers = [];
        for (let i = 0; i < 10; i++) {
          numbers.push(generateRandom(min, max));
        }
        
        const timestamp = new Date().toLocaleTimeString('pt-BR');
        document.getElementById('random-result').innerHTML = `
          <div>
            <p style="margin-bottom: var(--spacing-sm);"><strong>10 n√∫meros gerados:</strong></p>
            <div style="display: flex; flex-wrap: wrap; gap: var(--spacing-sm); margin-bottom: var(--spacing-sm);">
              ${numbers.map((num, idx) => `<span id="random-number-${idx}" data-testid="random-number-${idx}" style="padding: var(--spacing-xs) var(--spacing-sm); background: rgba(122, 168, 116, 0.1); border-radius: var(--border-radius-sm); font-weight: 600; color: var(--accent);">${num}</span>`).join('')}
            </div>
            <p style="color: var(--muted); font-size: var(--font-size-sm); margin: 0;">Intervalo: ${min} - ${max} | Hor√°rio: ${timestamp}</p>
          </div>
        `;
        
        window.showToast('10 n√∫meros gerados!');
      });

      // Inicializar abas de teste automatizado
      (function() {
        function initTabs() {
          const tabsContainer = document.querySelector('.test-tabs');
          
          if (!tabsContainer) {
            setTimeout(initTabs, 100);
            return;
          }

          const tabs = tabsContainer.querySelectorAll('.test-tab');
          tabs.forEach(tab => {
            tab.addEventListener('click', function(e) {
              e.preventDefault();
              e.stopPropagation();
              
              const targetId = this.dataset.target;
              if (!targetId) return;
              
              // Remove active de todas as abas
              tabs.forEach(t => t.classList.remove('active'));
              document.querySelectorAll('.test-code').forEach(c => c.classList.remove('active'));

              // Adiciona active na aba clicada
              this.classList.add('active');
              const targetContent = document.getElementById(targetId);
              if (targetContent) {
                targetContent.classList.add('active');
              }
            });
          });
        }

        // Aguardar DOM estar pronto
        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', initTabs);
        } else {
          setTimeout(initTabs, 50);
        }
      })();
    </script>
  </body>
</html>
