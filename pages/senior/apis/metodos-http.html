<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>M√©todos HTTP ‚Äî APIs e Autentica√ß√£o ‚Äî QA Playground</title>
    <link rel="stylesheet" href="../../../css/main.css" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  </head>
  <body>
    <header class="et-header">
      <div class="et-header-inner">
        <a href="../../../index.html" class="et-logo" aria-label="In√≠cio">
          <img src="../../../assets/icons/logo.svg" alt="Logo QA Playground" height="40" />
        </a>
        <nav class="et-nav" aria-label="Navega√ß√£o principal">
          <ul class="et-nav-list">
            <li><a href="../../../index.html">In√≠cio</a></li>
            <li><a href="index.html">APIs</a></li>
          </ul>
        </nav>
        <div class="et-header-actions">
          <button id="theme-toggle" aria-label="Alternar tema">üåû</button>
        </div>
      </div>
    </header>

    <main class="container">
      <section class="section">
        <div class="section-header">
          <h2>M√©todos HTTP ‚Äî Vis√£o de Testes</h2>
          <div class="section-desc">Guia completo sobre m√©todos HTTP: quando usar, o que validar e riscos comuns para QA Engineers.</div>
        </div>

        <div class="info-box">
          <h3>GET</h3>
          <p><strong>Sem√¢ntica:</strong> Recuperar representa√ß√£o de um recurso. M√©todo idempotente e seguro (n√£o altera estado do servidor).</p>
          <p><strong>Uso:</strong> Buscar recurso espec√≠fico, listar cole√ß√µes, consultas com filtros, opera√ß√µes de leitura.</p>
          <p><strong>Valida√ß√µes obrigat√≥rias:</strong></p>
          <ul style="margin-left: var(--spacing-lg); margin-top: var(--spacing-sm);">
            <li>Status code 200 OK para sucesso</li>
            <li>Estrutura do payload conforme schema (JSON Schema, OpenAPI)</li>
            <li>Headers de cache quando aplic√°vel (Cache-Control, ETag, Last-Modified)</li>
            <li>Pagina√ß√£o implementada para cole√ß√µes grandes (page, limit, total)</li>
            <li>Query parameters funcionando corretamente (filtros, ordena√ß√£o, inclus√£o)</li>
            <li>Idempot√™ncia: m√∫ltiplas requisi√ß√µes id√™nticas retornam mesmo resultado</li>
          </ul>
          <p><strong>Riscos e vulnerabilidades:</strong></p>
          <ul style="margin-left: var(--spacing-lg); margin-top: var(--spacing-sm);">
            <li>Exposi√ß√£o de dados sens√≠veis em query params (aparecem em logs, hist√≥rico do navegador)</li>
            <li>Aus√™ncia de pagina√ß√£o causa timeouts e sobrecarga (retornar milhares de registros)</li>
            <li>Cache mal configurado retorna dados desatualizados ou privados</li>
            <li>SQL/NoSQL injection atrav√©s de filtros n√£o sanitizados</li>
            <li>Information disclosure atrav√©s de mensagens de erro detalhadas</li>
          </ul>
        </div>

        <div class="info-box" style="margin-top: var(--spacing-xl);">
          <h3>POST</h3>
          <p><strong>Sem√¢ntica:</strong> Criar novo recurso ou executar a√ß√£o n√£o idempotente. N√£o √© seguro (pode alterar estado) nem idempotente (m√∫ltiplas chamadas criam recursos diferentes).</p>
          <p><strong>Uso:</strong> Criar recursos, a√ß√µes com efeitos colaterais (enviar email, processar pagamento, disparar notifica√ß√£o), submiss√£o de formul√°rios.</p>
          <p><strong>Valida√ß√µes obrigat√≥rias:</strong></p>
          <ul style="margin-left: var(--spacing-lg); margin-top: var(--spacing-sm);">
            <li>Status 201 Created quando recurso √© criado (com Location header) ou 200 OK para a√ß√µes</li>
            <li>Payload retorna recurso criado completo, incluindo ID gerado</li>
            <li>Location header presente com URI do novo recurso (RFC 7231)</li>
            <li>Valida√ß√£o completa de campos obrigat√≥rios e tipos</li>
            <li>Regras de neg√≥cio aplicadas (unicidade, constraints, valida√ß√µes customizadas)</li>
            <li>Headers apropriados (Content-Type validado, CORS se aplic√°vel)</li>
          </ul>
          <p><strong>Riscos e vulnerabilidades:</strong></p>
          <ul style="margin-left: var(--spacing-lg); margin-top: var(--spacing-sm);">
            <li>Cria√ß√£o duplicada por requisi√ß√µes repetidas (aus√™ncia de idempot√™ncia)</li>
            <li>Valida√ß√£o insuficiente permite dados inv√°lidos ou maliciosos</li>
            <li>Falta de sanitiza√ß√£o resulta em XSS, injection (SQL, NoSQL, Command)</li>
            <li>Exposi√ß√£o de informa√ß√µes sens√≠veis no response (senhas, tokens internos, stack traces)</li>
            <li>Mass assignment: aceitar campos n√£o permitidos que modificam estado cr√≠tico</li>
            <li>CSRF quando n√£o h√° prote√ß√£o adequada</li>
          </ul>
        </div>

        <div class="info-box" style="margin-top: var(--spacing-xl);">
          <h3>PUT</h3>
          <p><strong>Sem√¢ntica:</strong> Substituir recurso completo. M√©todo idempotente: m√∫ltiplas requisi√ß√µes id√™nticas t√™m mesmo efeito. Pode criar recurso se n√£o existir (upsert).</p>
          <p><strong>Uso:</strong> Atualiza√ß√£o completa de recurso existente, cria√ß√£o/atualiza√ß√£o quando ID √© conhecido, sincroniza√ß√£o de estado.</p>
          <p><strong>Valida√ß√µes obrigat√≥rias:</strong></p>
          <ul style="margin-left: var(--spacing-lg); margin-top: var(--spacing-sm);">
            <li>Status 200 OK (recurso atualizado) ou 201 Created (recurso criado) ou 204 No Content</li>
            <li>Recurso substitu√≠do completamente: todos os campos atualizados conforme payload</li>
            <li>Idempot√™ncia garantida: requisi√ß√µes id√™nticas produzem mesmo estado final</li>
            <li>Campos n√£o enviados s√£o removidos ou definidos como default (comportamento documentado)</li>
            <li>Valida√ß√£o de todos os campos obrigat√≥rios (mesmo n√≠vel de POST)</li>
            <li>Versionamento (ETag, If-Match) quando aplic√°vel para prevenir race conditions</li>
          </ul>
          <p><strong>Riscos e vulnerabilidades:</strong></p>
          <ul style="margin-left: var(--spacing-lg); margin-top: var(--spacing-sm);">
            <li>Sobrescrita acidental por falta de valida√ß√£o de vers√£o (lost update problem)</li>
            <li>Perda de dados quando campos n√£o enviados s√£o removidos (comportamento n√£o documentado)</li>
            <li>Valida√ß√£o inconsistente entre PUT e POST causa comportamentos inesperados</li>
            <li>Aus√™ncia de autoriza√ß√£o permite sobrescrever recursos de outros usu√°rios</li>
            <li>Race conditions em atualiza√ß√µes concorrentes sem controle de vers√£o</li>
          </ul>
        </div>

        <div class="info-box" style="margin-top: var(--spacing-xl);">
          <h3>PATCH</h3>
          <p><strong>Sem√¢ntica:</strong> Aplicar modifica√ß√µes parciais em um recurso. M√©todo idempotente: m√∫ltiplas requisi√ß√µes id√™nticas t√™m mesmo efeito. Apenas campos presentes no payload s√£o modificados.</p>
          <p><strong>Uso:</strong> Atualiza√ß√£o parcial de recursos, modifica√ß√µes incrementais, evitar retransmiss√£o de dados completos.</p>
          <p><strong>Valida√ß√µes obrigat√≥rias:</strong></p>
          <ul style="margin-left: var(--spacing-lg); margin-top: var(--spacing-sm);">
            <li>Status 200 OK com recurso atualizado ou 204 No Content</li>
            <li>Apenas campos enviados s√£o modificados, demais permanecem inalterados</li>
            <li>Valida√ß√£o dos campos enviados (tipos, formatos, regras de neg√≥cio)</li>
            <li>Idempot√™ncia: requisi√ß√µes id√™nticas produzem mesmo estado</li>
            <li>Merge correto de estruturas complexas (arrays, objetos aninhados) conforme estrat√©gia definida</li>
            <li>Suporte a JSON Patch (RFC 6902) ou formato customizado documentado</li>
          </ul>
          <p><strong>Riscos e vulnerabilidades:</strong></p>
          <ul style="margin-left: var(--spacing-lg); margin-top: var(--spacing-sm);">
            <li>Valida√ß√£o inconsistente permite valores inv√°lidos em atualiza√ß√£o parcial</li>
            <li>Merge incorreto de arrays/objetos causa perda de dados ou estado inconsistente</li>
            <li>Confus√£o entre PUT (substitui√ß√£o completa) e PATCH (atualiza√ß√£o parcial)</li>
            <li>Aus√™ncia de valida√ß√£o de campos cr√≠ticos em atualiza√ß√µes parciais</li>
            <li>Estrat√©gia de merge n√£o documentada causa comportamentos inesperados</li>
          </ul>
        </div>

        <div class="info-box" style="margin-top: var(--spacing-xl);">
          <h3>DELETE</h3>
          <p><strong>Sem√¢ntica:</strong> Remover recurso identificado pela URI. M√©todo idempotente: deletar recurso j√° deletado retorna sucesso (204). N√£o √© seguro (altera estado).</p>
          <p><strong>Uso:</strong> Remo√ß√£o de recursos, exclus√£o l√≥gica ou f√≠sica, limpeza de dados.</p>
          <p><strong>Valida√ß√µes obrigat√≥rias:</strong></p>
          <ul style="margin-left: var(--spacing-lg); margin-top: var(--spacing-sm);">
            <li>Status 204 No Content (sucesso sem body) ou 200 OK com confirma√ß√£o</li>
            <li>Recurso removido: GET subsequente retorna 404 Not Found</li>
            <li>Soft delete vs hard delete claramente documentado e testado</li>
            <li>Remo√ß√£o em cascata de recursos dependentes (se aplic√°vel) testada</li>
            <li>Idempot√™ncia: deletar recurso inexistente retorna 204 (n√£o 404)</li>
            <li>Autoriza√ß√£o verificada: apenas usu√°rios com permiss√£o podem deletar</li>
          </ul>
          <p><strong>Riscos e vulnerabilidades:</strong></p>
          <ul style="margin-left: var(--spacing-lg); margin-top: var(--spacing-sm);">
            <li>Remo√ß√£o em cascata n√£o testada causa orf√£os ou viola√ß√£o de integridade referencial</li>
            <li>Aus√™ncia de autoriza√ß√£o permite dele√ß√£o n√£o autorizada (IDOR)</li>
            <li>Soft delete n√£o documentado causa confus√£o sobre estado real do recurso</li>
            <li>Recursos relacionados n√£o tratados (ex: deletar usu√°rio sem tratar pedidos)</li>
            <li>Aus√™ncia de confirma√ß√£o para opera√ß√µes cr√≠ticas (dele√ß√£o em massa)</li>
            <li>Falta de auditoria/logging de opera√ß√µes de dele√ß√£o</li>
          </ul>
        </div>

        <div class="info-box" style="margin-top: var(--spacing-xl);">
          <h3>OPTIONS</h3>
          <p><strong>Sem√¢ntica:</strong> Obter m√©todos HTTP permitidos para um recurso. Usado principalmente para CORS preflight requests. M√©todo seguro e idempotente.</p>
          <p><strong>Uso:</strong> Verificar m√©todos permitidos antes de requisi√ß√£o real, CORS preflight, descoberta de capacidades da API.</p>
          <p><strong>Valida√ß√µes obrigat√≥rias:</strong></p>
          <ul style="margin-left: var(--spacing-lg); margin-top: var(--spacing-sm);">
            <li>Header Allow listando m√©todos permitidos (GET, POST, PUT, etc.)</li>
            <li>CORS headers corretos quando aplic√°vel (Access-Control-Allow-Methods, Access-Control-Allow-Headers, Access-Control-Allow-Origin)</li>
            <li>Status 200 OK ou 204 No Content</li>
            <li>Body vazio ou contendo apenas informa√ß√µes sobre capacidades</li>
          </ul>
          <p><strong>Riscos e vulnerabilidades:</strong></p>
          <ul style="margin-left: var(--spacing-lg); margin-top: var(--spacing-sm);">
            <li>CORS mal configurado bloqueia requisi√ß√µes leg√≠timas de origens autorizadas</li>
            <li>M√©todos perigosos expostos incorretamente (DELETE, PUT em endpoints p√∫blicos)</li>
            <li>Falta de implementa√ß√£o retorna 405, quebrando CORS preflight</li>
            <li>Headers CORS muito permissivos (Access-Control-Allow-Origin: *) em produ√ß√£o</li>
          </ul>
        </div>

        <div class="info-box" style="margin-top: var(--spacing-xl);">
          <h3>HEAD</h3>
          <p><strong>Sem√¢ntica:</strong> Obter headers de resposta sem body. Comportamento id√™ntico ao GET, exceto pela aus√™ncia de payload. M√©todo seguro e idempotente.</p>
          <p><strong>Uso:</strong> Verificar exist√™ncia de recurso, validar cache (ETag, Last-Modified), obter metadados sem transferir dados, verificar tamanho do recurso.</p>
          <p><strong>Valida√ß√µes obrigat√≥rias:</strong></p>
          <ul style="margin-left: var(--spacing-lg); margin-top: var(--spacing-sm);">
            <li>Status code id√™ntico ao GET equivalente (200, 404, etc.)</li>
            <li>Headers id√™nticos ao GET, especialmente ETag, Last-Modified, Content-Type, Content-Length</li>
            <li>Body obrigatoriamente vazio (n√£o deve conter payload)</li>
            <li>Content-Length presente e correto (tamanho do recurso se fosse retornado)</li>
          </ul>
          <p><strong>Riscos e vulnerabilidades:</strong></p>
          <ul style="margin-left: var(--spacing-lg); margin-top: var(--spacing-sm);">
            <li>Headers inconsistentes com GET causam problemas de cache</li>
            <li>ETag diferente do GET quebra valida√ß√£o de cache</li>
            <li>Falta de implementa√ß√£o retorna 405 ou comportamento inesperado</li>
            <li>Content-Length incorreto afeta download progress e valida√ß√µes</li>
          </ul>
        </div>

        <div style="margin-top: var(--spacing-xl); display: flex; gap: var(--spacing-md); justify-content: space-between; flex-wrap: wrap;">
          <a href="fundamentos.html" class="btn btn-secondary">‚Üê Anterior: Fundamentos</a>
          <a href="status-codes.html" class="btn">Pr√≥ximo: Status Codes</a>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      QA Playground ‚Äî Projeto educacional ‚Ä¢ Portugu√™s
    </footer>

    <script type="module" src="../../../js/index.js"></script>
  </body>
</html>
