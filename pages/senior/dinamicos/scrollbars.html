<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Scrollbars ‚Äî QA Playground</title>
    <link rel="stylesheet" href="../../../css/main.css" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  </head>
  <body>
    <header class="et-header">
      <div class="et-header-inner">
        <a href="../../../index.html" class="et-logo" aria-label="In√≠cio">
          <img src="../../../assets/icons/logo.svg" alt="Logo QA Playground" height="40" />
        </a>
        <nav class="et-nav" aria-label="Navega√ß√£o principal">
          <ul class="et-nav-list">
            <li><a href="../../../index.html">In√≠cio</a></li>
            <li><a href="index.html">Din√¢micos</a></li>
            <li><a href="scrollbars.html" aria-current="page">Scrollbars</a></li>
          </ul>
        </nav>
        <div class="et-header-actions">
          <button id="theme-toggle" aria-label="Alternar tema">üåû</button>
        </div>
      </div>
    </header>

    <main class="container">
      <section class="section">
        <div class="section-header">
          <h2>Scrollbars</h2>
          <div class="section-desc">Teste barras de rolagem customizadas e nativas. Esta p√°gina permite testar a automa√ß√£o de scroll, valida√ß√£o de conte√∫do em √°reas com scroll e intera√ß√£o com elementos que requerem rolagem para serem vis√≠veis.</div>
        </div>

        <div class="subsections subsections-vertical">
          <div class="subsection">
            <h3>√Årea com Scroll</h3>
            <p class="muted" style="margin-bottom: var(--spacing-md);">
              A √°rea abaixo possui scroll. Teste a rolagem e valida√ß√£o de conte√∫do que requer scroll para ser vis√≠vel.
            </p>

            <div class="controls" style="margin-bottom: var(--spacing-md);">
              <button id="btn-scroll-top" class="btn btn-secondary" data-testid="btn-scroll-top">Rolar para o Topo</button>
              <button id="btn-scroll-bottom" class="btn btn-secondary" data-testid="btn-scroll-bottom">Rolar para o Final</button>
              <button id="btn-scroll-middle" class="btn btn-secondary" data-testid="btn-scroll-middle">Rolar para o Meio</button>
            </div>

            <div id="scroll-area" data-testid="scroll-area" style="width: 100%; height: 300px; overflow: auto; background: var(--surface); border: 2px solid rgba(122, 168, 116, 0.2); border-radius: var(--border-radius-md); padding: var(--spacing-md); margin-bottom: var(--spacing-md);">
              <div id="scroll-content" data-testid="scroll-content">
                <p id="item-top" data-testid="item-top" style="padding: var(--spacing-md); background: rgba(122, 168, 116, 0.1); border-radius: var(--border-radius-sm); margin-bottom: var(--spacing-md);"><strong>Item no Topo</strong> - Este √© o primeiro item da lista.</p>
                <p style="padding: var(--spacing-md); background: rgba(122, 168, 116, 0.1); border-radius: var(--border-radius-sm); margin-bottom: var(--spacing-md);">Item 2 - Conte√∫do intermedi√°rio.</p>
                <p style="padding: var(--spacing-md); background: rgba(122, 168, 116, 0.1); border-radius: var(--border-radius-sm); margin-bottom: var(--spacing-md);">Item 3 - Mais conte√∫do.</p>
                <p style="padding: var(--spacing-md); background: rgba(122, 168, 116, 0.1); border-radius: var(--border-radius-sm); margin-bottom: var(--spacing-md);">Item 4 - Continuando a lista.</p>
                <p style="padding: var(--spacing-md); background: rgba(122, 168, 116, 0.1); border-radius: var(--border-radius-sm); margin-bottom: var(--spacing-md);">Item 5 - Meio da lista.</p>
                <p id="item-middle" data-testid="item-middle" style="padding: var(--spacing-md); background: rgba(122, 168, 116, 0.1); border-radius: var(--border-radius-sm); margin-bottom: var(--spacing-md);"><strong>Item no Meio</strong> - Este item est√° no meio da lista.</p>
                <p style="padding: var(--spacing-md); background: rgba(122, 168, 116, 0.1); border-radius: var(--border-radius-sm); margin-bottom: var(--spacing-md);">Item 7 - Mais conte√∫do.</p>
                <p style="padding: var(--spacing-md); background: rgba(122, 168, 116, 0.1); border-radius: var(--border-radius-sm); margin-bottom: var(--spacing-md);">Item 8 - Continuando.</p>
                <p style="padding: var(--spacing-md); background: rgba(122, 168, 116, 0.1); border-radius: var(--border-radius-sm); margin-bottom: var(--spacing-md);">Item 9 - Quase no final.</p>
                <p id="item-bottom" data-testid="item-bottom" style="padding: var(--spacing-md); background: rgba(122, 168, 116, 0.1); border-radius: var(--border-radius-sm); margin-bottom: var(--spacing-md);"><strong>Item no Final</strong> - Este √© o √∫ltimo item da lista.</p>
              </div>
            </div>

            <div id="scroll-status" data-testid="scroll-status" style="padding: var(--spacing-md); background: var(--surface); border-radius: var(--border-radius-md); border-left: 4px solid var(--accent); min-height: 60px;">
              <p class="muted" style="margin: 0;">Use os bot√µes ou role manualmente para testar.</p>
            </div>
          </div>

          <div class="subsection" style="margin-top: var(--spacing-lg);">
            <h3>Informa√ß√µes para Testes</h3>
            <div style="background: var(--surface); padding: var(--spacing-md); border-radius: var(--border-radius-md); border-left: 4px solid var(--accent);">
              <p style="margin-bottom: var(--spacing-sm);"><strong>Cen√°rios de Teste:</strong></p>
              <ul style="margin-left: var(--spacing-lg); color: var(--muted); font-size: var(--font-size-sm);">
                <li>Testar scroll program√°tico (topo, meio, final)</li>
                <li>Validar que elementos ficam vis√≠veis ap√≥s scroll</li>
                <li>Testar scroll at√© elemento espec√≠fico</li>
                <li>Validar posi√ß√£o de scroll</li>
                <li>Testar intera√ß√£o com elementos ap√≥s scroll</li>
                <li>Validar conte√∫do que requer scroll para ser visto</li>
              </ul>
              
              <p style="margin-top: var(--spacing-md); margin-bottom: var(--spacing-sm);"><strong>Exemplos de Teste Automatizado:</strong></p>
              
              <div class="test-tabs">
                <button class="test-tab active" data-target="tab-cypress">Cypress</button>
                <button class="test-tab" data-target="tab-playwright">Playwright</button>
                <button class="test-tab" data-target="tab-selenium-java">Selenium (Java)</button>
                <button class="test-tab" data-target="tab-capybara">Capybara (Ruby)</button>
                <button class="test-tab" data-target="tab-robot">Robot Framework</button>
              </div>
              
              <div class="test-tab-content">
              
                <pre id="tab-cypress" class="test-code active"><code>
// Cypress - Scroll at√© elemento
cy.get('[data-testid="scroll-area"]').scrollTo('bottom')
cy.get('[data-testid="item-bottom"]').should('be.visible')

// Scroll at√© elemento espec√≠fico
cy.get('[data-testid="item-middle"]').scrollIntoView()
cy.get('[data-testid="item-middle"]').should('be.visible')

// Validar posi√ß√£o de scroll
cy.get('[data-testid="scroll-area"]').scrollTo(0, 500)
cy.get('[data-testid="scroll-area"]').should(($el) => {
  expect($el[0].scrollTop).to.be.greaterThan(0)
})
                </code></pre>
              
                <pre id="tab-playwright" class="test-code"><code>
// Playwright - Scroll at√© elemento
await page.getByTestId('item-bottom').scrollIntoViewIfNeeded()
await expect(page.getByTestId('item-bottom')).toBeVisible()

// Scroll at√© meio
await page.getByTestId('item-middle').scrollIntoViewIfNeeded()
await expect(page.getByTestId('item-middle')).toBeVisible()
                </code></pre>
              
                <pre id="tab-selenium-java" class="test-code"><code>
// Selenium (Java) - Scroll at√© elemento
WebElement element = driver.findElement(By.cssSelector("[data-testid='item-bottom']"));
JavascriptExecutor js = (JavascriptExecutor) driver;
js.executeScript("arguments[0].scrollIntoView(true);", element);
WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(5));
wait.until(ExpectedConditions.visibilityOf(element));
                </code></pre>
              
                <pre id="tab-capybara" class="test-code"><code>
# Capybara (Ruby) - Scroll at√© elemento
scroll_to('[data-testid="item-bottom"]')
expect(page).to have_css('[data-testid="item-bottom"]', visible: true)

# Scroll at√© meio
scroll_to('[data-testid="item-middle"]')
expect(page).to have_css('[data-testid="item-middle"]', visible: true)
                </code></pre>
                  
                <pre id="tab-robot" class="test-code"><code>
*** Test Cases ***
Scroll at√© elemento
    Scroll Element Into View    css:[data-testid="item-bottom"]
    Wait Until Element Is Visible    css:[data-testid="item-bottom"]    timeout=5s

Scroll at√© meio
    Scroll Element Into View    css:[data-testid="item-middle"]
    Wait Until Element Is Visible    css:[data-testid="item-middle"]    timeout=5s
                </code></pre>
              
              </div>

              <p style="margin-top: var(--spacing-md); margin-bottom: var(--spacing-sm);"><strong>Elementos identific√°veis:</strong></p>
              <ul style="margin-left: var(--spacing-lg); color: var(--muted); font-size: var(--font-size-sm);">
                <li><code>data-testid="scroll-area"</code> - √Årea com scroll</li>
                <li><code>data-testid="scroll-content"</code> - Conte√∫do rol√°vel</li>
                <li><code>data-testid="item-top"</code> - Item no topo</li>
                <li><code>data-testid="item-middle"</code> - Item no meio</li>
                <li><code>data-testid="item-bottom"</code> - Item no final</li>
                <li><code>data-testid="btn-scroll-top"</code> - Bot√£o scroll topo</li>
                <li><code>data-testid="btn-scroll-bottom"</code> - Bot√£o scroll final</li>
                <li><code>data-testid="scroll-status"</code> - Status do scroll</li>
              </ul>
            </div>
          </div>
        </div>

        <div style="margin-top: var(--spacing-xl); text-align: center;">
          <a href="../../../index.html" class="btn btn-secondary">‚Üê Voltar para In√≠cio</a>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      QA Playground ‚Äî Projeto educacional ‚Ä¢ Portugu√™s
    </footer>

    <script type="module" src="../../../js/index.js"></script>
    <script>
      const scrollArea = document.getElementById('scroll-area');
      const statusEl = document.getElementById('scroll-status');
      const itemTop = document.getElementById('item-top');
      const itemMiddle = document.getElementById('item-middle');
      const itemBottom = document.getElementById('item-bottom');

      function updateStatus(position) {
        const timestamp = new Date().toLocaleTimeString('pt-BR');
        statusEl.innerHTML = `
          <p style="margin: 0;"><strong>‚úÖ Scroll realizado: ${position}</strong></p>
          <p style="margin: var(--spacing-xs) 0 0 0; font-size: var(--font-size-sm); color: var(--muted);">Hor√°rio: ${timestamp}</p>
        `;
      }

      document.getElementById('btn-scroll-top').addEventListener('click', function() {
        scrollArea.scrollTo({ top: 0, behavior: 'smooth' });
        updateStatus('Topo');
        window.showToast('Rolado para o topo!');
      });

      document.getElementById('btn-scroll-bottom').addEventListener('click', function() {
        scrollArea.scrollTo({ top: scrollArea.scrollHeight, behavior: 'smooth' });
        updateStatus('Final');
        window.showToast('Rolado para o final!');
      });

      document.getElementById('btn-scroll-middle').addEventListener('click', function() {
        itemMiddle.scrollIntoView({ behavior: 'smooth', block: 'center' });
        updateStatus('Meio');
        window.showToast('Rolado para o meio!');
      });

      // Atualizar status ao rolar manualmente
      scrollArea.addEventListener('scroll', function() {
        const scrollTop = this.scrollTop;
        const scrollHeight = this.scrollHeight;
        const clientHeight = this.clientHeight;
        const percent = Math.round((scrollTop / (scrollHeight - clientHeight)) * 100);
        statusEl.innerHTML = `
          <p style="margin: 0;"><strong>üìä Posi√ß√£o do scroll: ${percent}%</strong></p>
          <p style="margin: var(--spacing-xs) 0 0 0; font-size: var(--font-size-sm); color: var(--muted);">Scroll manual detectado</p>
        `;
      });

      // Inicializar abas de teste automatizado
      (function() {
        function initTabs() {
          const tabsContainer = document.querySelector('.test-tabs');
          
          if (!tabsContainer) {
            setTimeout(initTabs, 100);
            return;
          }

          tabsContainer.addEventListener('click', function(e) {
            const clickedTab = e.target.closest('.test-tab');
            
            if (!clickedTab) return;
            
            e.preventDefault();
            e.stopPropagation();
            
            const targetId = clickedTab.dataset.target;
            if (!targetId) return;
            
            document.querySelectorAll('.test-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.test-code').forEach(c => c.classList.remove('active'));

            clickedTab.classList.add('active');
            const targetContent = document.getElementById(targetId);
            if (targetContent) {
              targetContent.classList.add('active');
            }
          });
        }

        if (document.readyState === 'loading') {
          document.addEventListener('DOMContentLoaded', initTabs);
        } else {
          initTabs();
        }
      })();
    </script>
  </body>
</html>
