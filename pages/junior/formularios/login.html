<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Login — QA Playground</title>
    <link rel="stylesheet" href="../../css/styles.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <header class="et-header">
      <div class="et-header-inner">
        <a href="../../index.html" class="et-logo" aria-label="Início">
          <img
            src="../../../assets/icons/logo.svg"
            alt="Logo QA Playground"
            height="40"
          />
        </a>
        <nav class="et-nav" aria-label="Navegação principal">
          <ul class="et-nav-list">
            <li><a href="../../index.html">Início</a></li>
            <li><a href="../../fundamentos.html">Fundamentos</a></li>
            <li><a href="login.html" aria-current="page">Login</a></li>
          </ul>
        </nav>
        <div class="et-header-actions">
          <button id="theme-toggle" aria-label="Alternar tema">🌞</button>
        </div>
      </div>
    </header>

 <main class="container">
      <section class="section">
        <!-- HEADER -->
        <div class="section-header">
          <h2>Página de Login</h2>
          <div class="section-desc">
            Página dedicada para prática de testes manuais e automatizados
            relacionados à autenticação de usuários.
          </div>
        </div>

        <div class="subsections subsections-vertical">
          <!-- SOBRE A SEÇÃO -->
          <div class="subsection">
            <h3>Sobre esta Seção</h3>
            <div class="info-box">
              <p><strong>Objetivo da Seção:</strong></p>
              <ul>
                <li>Validar fluxo de autenticação com email e senha</li>
                <li>Testar mensagens de erro e sucesso</li>
                <li>Simular estados comuns de login</li>
              </ul>

              <p><strong>Cenários Comuns de Teste:</strong></p>
              <ul>
                <li>Campos obrigatórios não preenchidos</li>
                <li>Email em formato inválido</li>
                <li>Senha com menos de 6 caracteres</li>
                <li>Estado de carregamento durante autenticação</li>
                <li>Login bem-sucedido</li>
              </ul>

              <p><strong>Como Utilizar:</strong></p>
              <ol>
                <li>Preencha email e senha</li>
                <li>Marque ou não a opção “Lembrar-me”</li>
                <li>Clique em “Entrar”</li>
                <li>Observe mensagens, estados e resultado final</li>
              </ol>
            </div>
          </div>

          <!-- FORMULÁRIO -->
          <div class="subsection">
            <h3>Formulário de Login</h3>

            <form id="login-form" novalidate data-testid="form-login">
              <div class="form-grid">
                <div class="form-group">
                  <label for="email">Email</label>
                  <input
                    id="email"
                    type="email"
                    data-testid="input-email"
                    placeholder="seu@exemplo.com"
                    required
                  />
                  <div class="hint">Digite um email válido</div>
                  <div
                    class="error"
                    id="email-error"
                    style="display: none"
                  ></div>
                </div>

                <div class="form-group">
                  <label for="password">Senha</label>
                  <input
                    id="password"
                    type="password"
                    data-testid="input-senha"
                    placeholder="Digite sua senha"
                    required
                  />
                  <div class="hint">Mínimo de 6 caracteres</div>
                  <div
                    class="error"
                    id="password-error"
                    style="display: none"
                  ></div>
                </div>

                <div class="form-group form-full">
                  <label class="checkbox-group">
                    <input
                      type="checkbox"
                      id="remember"
                      data-testid="checkbox-remember"
                    />
                    Lembrar-me
                  </label>
                </div>

                <div class="form-group form-full">
                  <button
                    type="submit"
                    id="btn-login"
                    data-testid="btn-login"
                    class="btn"
                  >
                    Entrar
                  </button>

                  <p class="center muted">
                    <a
                      href="#recover"
                      id="link-recover"
                      data-testid="link-recover"
                    >
                      Esqueceu a senha?
                    </a>
                  </p>
                </div>
              </div>
            </form>
          </div>

          <!-- RESULTADO -->
          <div class="subsection">
            <h3>Resultado do Login</h3>
            <div
              id="login-result"
              data-testid="resultado-login"
              class="result-box"
            >
              <p class="muted">
                Preencha o formulário e clique em “Entrar” para visualizar o
                resultado.
              </p>
            </div>
          </div>

          <!-- INFORMAÇÕES PARA TESTES -->
          <div class="subsection">
            <h3>Informações para Testes</h3>
            <div class="info-box">
              <p><strong>Credenciais de Teste:</strong></p>
              <ul>
                <li>Email: <code>teste@qaplayground.com</code></li>
                <li>Senha: <code>senha123</code></li>
              </ul>

              <p><strong>Elementos identificáveis:</strong></p>
              <ul>
                <li><code>data-testid="form-login"</code></li>
                <li><code>data-testid="input-email"</code></li>
                <li><code>data-testid="input-senha"</code></li>
                <li><code>data-testid="checkbox-remember"</code></li>
                <li><code>data-testid="btn-login"</code></li>
                <li><code>data-testid="resultado-login"</code></li>
              </ul>

              <p><strong>Exemplos de Teste Automatizado:</strong></p>

              <div class="test-tabs">
                <button class="test-tab active" data-target="tab-cypress">
                  Cypress
                </button>
                <button class="test-tab" data-target="tab-playwright">
                  Playwright
                </button>
                <button class="test-tab" data-target="tab-selenium-java">
                  Selenium (Java)
                </button>
                <button class="test-tab" data-target="tab-capybara">
                  Capybara (Ruby)
                </button>
                <button class="test-tab" data-target="tab-robot">Robot Framework</button>
              </div>

              <div class="test-tab-content">
                <pre id="tab-cypress" class="test-code active"><code>
                // Cypress
                cy.get('[data-testid="input-email"]').type('teste@qaplayground.com')
                cy.get('[data-testid="input-senha"]').type('senha123')
                cy.get('[data-testid="btn-login"]').click()
                cy.get('[data-testid="resultado-login"]').should('be.visible')
                </code></pre>

                <pre id="tab-playwright" class="test-code"><code>
                // Playwright
                await page.getByTestId('input-email').fill('teste@qaplayground.com')
                await page.getByTestId('input-senha').fill('senha123')
                await page.getByTestId('btn-login').click()
                await expect(page.getByTestId('resultado-login')).toBeVisible()
                </code></pre>

                <pre id="tab-selenium-java" class="test-code"><code>
                // Selenium (Java)
                driver.findElement(By.cssSelector("[data-testid='input-email']")).sendKeys("teste@qaplayground.com");
                driver.findElement(By.cssSelector("[data-testid='input-senha']")).sendKeys("senha123");
                driver.findElement(By.cssSelector("[data-testid='btn-login']")).click();
                </code></pre>

                <pre id="tab-capybara" class="test-code"><code>
                # Capybara (Ruby)
                fill_in 'email', with: 'teste@qaplayground.com'
                fill_in 'password', with: 'senha123'
                click_button 'Entrar'
                expect(page).to have_selector('[data-testid="resultado-login"]')
                </code></pre>

                <pre id="tab-robot" class="test-code"><code>
                *** Test Cases ***
                Login com sucesso
                    Input Text    css:[data-testid="input-email"]    teste@qaplayground.com
                    Input Text    css:[data-testid="input-senha"]    senha123
                    Click Element css:[data-testid="btn-login"]
                </code></pre>
              </div>
            </div>
          </div>
        </div>

         <div style="margin-top: var(--spacing-xl); text-align: center;">
          <a href="../../index.html" class="btn btn-secondary">← Voltar para Início</a>
        </div>
      </section>
    </main>   

    <footer class="site-footer">
      QA Playground — Projeto educacional • Português
    </footer>

    <script src="../../js/app.js"></script>
    <script>
      function validateEmail(email) {
        return /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);
      }

      const loginForm = document.getElementById("login-form");

      loginForm.addEventListener("submit", function (e) {
        e.preventDefault();

        // Limpa erros anteriores
        window.clearFieldError("email");
        window.clearFieldError("password");

        const email = document.getElementById("email").value.trim();
        const password = document.getElementById("password").value;
        let isValid = true;

        // Validação de email
        if (!email) {
          window.setFieldError("email", "Email é obrigatório.");
          isValid = false;
        } else if (!validateEmail(email)) {
          window.setFieldError("email", "Formato de email inválido.");
          isValid = false;
        }

        // Validação de senha
        if (!password) {
          window.setFieldError("password", "Senha é obrigatória.");
          isValid = false;
        } else if (password.length < 6) {
          window.setFieldError(
            "password",
            "Senha deve ter no mínimo 6 caracteres."
          );
          isValid = false;
        }

        if (!isValid) return;

        // Simulação de login
        document.getElementById("btn-login").disabled = true;
        document.getElementById("btn-login").textContent = "Autenticando...";

        setTimeout(() => {
          window.showToast("Login realizado com sucesso!");
          loginForm.reset();
          document.getElementById("btn-login").disabled = false;
          document.getElementById("btn-login").textContent = "Entrar";
        }, 1500);
      });

      // Link de recuperação de senha
      document
        .getElementById("link-recover")
        .addEventListener("click", function (e) {
          e.preventDefault();
          window.location.href = "esqueci-senha.html";
        });

      // Validação em tempo real
      document.getElementById("email").addEventListener("blur", function () {
        const email = this.value.trim();
        if (email && !validateEmail(email)) {
          window.setFieldError("email", "Formato de email inválido.");
        } else {
          window.clearFieldError("email");
        }
      });

      document.getElementById("password").addEventListener("blur", function () {
        const password = this.value;
        if (password && password.length < 6) {
          window.setFieldError(
            "password",
            "Senha deve ter no mínimo 6 caracteres."
          );
        } else {
          window.clearFieldError("password");
        }
      });

      const tabs = document.querySelectorAll('.test-tab');
      const contents = document.querySelectorAll('.test-code');

      tabs.forEach(tab => {
        tab.addEventListener('click', () => {
          tabs.forEach(t => t.classList.remove('active'));
          contents.forEach(c => c.classList.remove('active'));

          tab.classList.add('active');
          document.getElementById(tab.dataset.target).classList.add('active');
        });
      });
    </script>
  </body>
</html>
