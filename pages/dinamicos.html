<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Elementos Din√¢micos ‚Äî QA Playground</title>
    <link rel="stylesheet" href="../css/styles.css" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  </head>
  <body>
    <header class="et-header">
      <div class="et-header-inner">
        <a href="../index.html" class="et-logo" aria-label="In√≠cio">
          <img src="../assets/icons/logo.svg" alt="Logo QA Playground" height="40" />
        </a>
        <nav class="et-nav" aria-label="Navega√ß√£o principal">
          <ul class="et-nav-list">
            <li><a href="../index.html">In√≠cio</a></li>
            <li><a href="dinamicos.html" aria-current="page">Din√¢micos</a></li>
            <li><a href="interacoes.html">Intera√ß√µes</a></li>
            <li><a href="tabelas.html">Tabelas</a></li>
          </ul>
        </nav>
        <div class="et-header-actions">
          <button id="theme-toggle" aria-label="Alternar tema">üåû</button>
        </div>
      </div>
    </header>

    <main class="container">
      <section class="section">
        <div class="section-header">
          <h2>Elementos Din√¢micos</h2>
          <div class="section-desc">Teste elementos que aparecem, desaparecem e mudam dinamicamente. Desafios reais para automa√ß√£o com delays, flickering e conte√∫do inst√°vel.</div>
        </div>

        <div class="subsections">
          <div class="subsection">
            <h3>Elementos com Delay</h3>
            <p class="muted" style="margin-bottom: var(--spacing-md);">Elementos que aparecem ap√≥s um tempo de espera.</p>
            <div class="controls">
              <button id="show-delay" class="btn" data-testid="btn-mostrar-delay">Mostrar com Delay (1.5s)</button>
              <button id="hide-delay" class="btn btn-secondary" data-testid="btn-ocultar-delay">Ocultar</button>
            </div>
            <div 
              id="delay-box" 
              data-testid="box-delay"
              style="display:none; margin-top: var(--spacing-md); padding: var(--spacing-lg); background: var(--surface); border-radius: var(--border-radius-md); border-left: 4px solid var(--accent);"
            >
              <strong>‚úÖ Conte√∫do exibido ap√≥s delay!</strong> Este elemento aparece ap√≥s 1.5 segundos, perfeito para testar waits expl√≠citos.
            </div>
          </div>

          <div class="subsection">
            <h3>Elemento Inst√°vel (Flicker)</h3>
            <p class="muted" style="margin-bottom: var(--spacing-md);">Elemento que muda de visibilidade constantemente.</p>
            <div class="controls">
              <button id="random-flicker" class="btn" data-testid="btn-toggle-flicker">Iniciar/Parar Flicker</button>
            </div>
            <div 
              id="flicker" 
              data-testid="elemento-flicker"
              style="margin-top: var(--spacing-md); padding: var(--spacing-lg); background: var(--surface); border-radius: var(--border-radius-md); border: 2px solid var(--accent); text-align: center; font-weight: 600; transition: opacity 0.3s ease;"
            >
              <strong>‚ö†Ô∏è Elemento Inst√°vel</strong>
              <div style="margin-top: var(--spacing-sm); font-size: var(--font-size-sm); color: var(--muted);">
                Este elemento pode aparecer e desaparecer - teste estrat√©gias de wait robustas!
              </div>
            </div>
          </div>
        </div>

        <div class="subsection" style="margin-top: var(--spacing-lg);">
          <h3>Informa√ß√µes para Testes</h3>
          <div style="background: var(--surface); padding: var(--spacing-md); border-radius: var(--border-radius-md); border-left: 4px solid var(--accent);">
            <p style="margin-bottom: var(--spacing-sm);"><strong>Cen√°rios de Teste:</strong></p>
            <ul style="margin-left: var(--spacing-lg); color: var(--muted); font-size: var(--font-size-sm);">
              <li>Testar waits expl√≠citos para elementos que aparecem com delay</li>
              <li>Validar que elementos est√£o vis√≠veis/invis√≠veis</li>
              <li>Lidar com elementos inst√°veis (flickering)</li>
              <li>Usar estrat√©gias de retry para elementos din√¢micos</li>
              <li>Validar timing e performance de carregamento</li>
            </ul>
            
            <p style="margin-top: var(--spacing-md); margin-bottom: var(--spacing-sm);"><strong>Estrat√©gias Recomendadas:</strong></p>
            <ul style="margin-left: var(--spacing-lg); color: var(--muted); font-size: var(--font-size-sm);">
              <li>Use <code>waitFor</code> ou <code>waitForSelector</code> para elementos com delay</li>
              <li>Implemente retries com timeout apropriado</li>
              <li>Valide estado de visibilidade antes de interagir</li>
              <li>Considere usar polling para elementos inst√°veis</li>
            </ul>

            <p style="margin-top: var(--spacing-md); margin-bottom: var(--spacing-sm);"><strong>Elementos identific√°veis:</strong></p>
            <ul style="margin-left: var(--spacing-lg); color: var(--muted); font-size: var(--font-size-sm);">
              <li><code>data-testid="btn-mostrar-delay"</code></li>
              <li><code>data-testid="btn-ocultar-delay"</code></li>
              <li><code>data-testid="box-delay"</code></li>
              <li><code>data-testid="btn-toggle-flicker"</code></li>
              <li><code>data-testid="elemento-flicker"</code></li>
            </ul>
          </div>
        </div>

        <div style="margin-top: var(--spacing-xl); text-align: center;">
          <a href="../index.html" class="btn btn-secondary">‚Üê Voltar para In√≠cio</a>
        </div>
      </section>
    </main>

    <footer class="site-footer">
      QA Playground ‚Äî Projeto educacional ‚Ä¢ Portugu√™s
    </footer>

    <script src="../js/app.js"></script>
    <script>
      // Delay Box
      document.getElementById('show-delay').addEventListener('click', () => {
        const el = document.getElementById('delay-box');
        el.style.display = 'none';
        
        // Simula delay
        setTimeout(() => {
          el.style.display = 'block';
          window.showToast('Elemento exibido ap√≥s delay de 1.5s');
        }, 1500);
      });

      document.getElementById('hide-delay').addEventListener('click', () => {
        const el = document.getElementById('delay-box');
        el.style.display = 'none';
        window.showToast('Elemento ocultado');
      });

      // Flicker
      let flickerInterval = null;
      const flickerEl = document.getElementById('flicker');
      const flickerBtn = document.getElementById('random-flicker');
      
      flickerBtn.addEventListener('click', () => {
        if (flickerInterval) {
          clearInterval(flickerInterval);
          flickerInterval = null;
          flickerEl.style.opacity = '1';
          flickerBtn.textContent = 'Iniciar Flicker';
          window.showToast('Flicker parado');
        } else {
          flickerBtn.textContent = 'Parar Flicker';
          flickerInterval = setInterval(() => {
            flickerEl.style.opacity = Math.random() > 0.5 ? '1' : '0.2';
          }, 350);
          window.showToast('Flicker iniciado');
        }
      });
    </script>
  </body>
</html>
